# 2025年9月30日(火)

# やったこと📝

- [Docs: lsコマンドを作る \| FBC](https://bootcamp.fjord.jp/pages/ls-command#requirements)
- [ターミナルの大きさを取得する \#ShellScript \- Qiita](https://qiita.com/tdrk/items/e580f2f97b2586a607c0)
- [Rubyスクリプトにもmainメソッドを定義するといいかも、という話 \#Ruby \- Qiita](https://qiita.com/jnchito/items/4b4cae54170cc2f4377e)
- [【 column 】コマンド――テキストを複数の列に整形する：Linux基本コマンドTips（114） \- ＠IT](https://atmarkit.itmedia.co.jp/ait/articles/1706/01/news023.html)
# わかったこと💡

## 要件
- オプション以外のコマンドライン引数(パス指定)なしで現在のディレクトリを対象として ls コマンドが実行されること
- 組み込みの ls は表示対象のパスをコマンドライン引数として指定することができますが、今回はパス指定は必須要件ではありません。
- 二つ以上のメソッドを自分で定義すること（メソッドの作り方を学ぶため）
- 横に最大3列を維持して表示する
  - 3,6,9,12のように3の倍数の件数だけでなく、それ以外の件数（3列目に空欄ができるケース）の結果も載せてください
  - ただし、「3列から5列に仕様変更してください」または「3列から100列に変えてください」とあとから言われても必要最小限の変更で対応できるようなロジックにしておくこと
- ファイルの並び順は列優先で列ごとに要素を並べること

## やること
- lsコマンドの並び順について確認する
  - アルファベット順なのでソートをかける
- 要件に基づいて並ぶようにする
- 可読性向上の為`main`メソッドを導入する(後半)

とりあえずソートをかけてみます。
:::details lsコマンドを作る1
```ruby
def ls
  directory_contents = Dir.glob("*").sort
  puts directory_contents
end

ls
```
sortできているか試しにホームディレクトリで実行して見たところ、大文字→小文字のアルファベット順に並んでいました！

## lsコマンド

> ls コマンドは、 出力行の文字の桁数を決定するために環境変数 COLUMNS を使います。 この変数が設定されていなければ、ディスプレイの現在の桁数を使用します。 ls コマンドは、 これらの方法で文字の桁数を決定できなければ、 デフォルト値 80 を使います。
引用：[ls コマンド \- IBM Documentation](https://www.ibm.com/docs/ja/aix/7.2.0?topic=l-ls-command)

## columnコマンド
RubyではなくLinuxですが、`column`コマンドを使うと`ls`メソッドを使った時のように列で並んでくれるようなのでこれが使えたらいいなと思います！

```ruby
# コマンドの実行結果を複数の列に整形する

コマンド | column
```
「コマンド」の実行結果をパイプで column に渡し、columnがそれを整えて出力します↓

```ruby
$ ruby 04.ls/ls.rb | column

01.fizzbuzz             03.bowling              05.wc                   07.ls_object            99.wc_object
02.calendar             04.ls                   06.bowling_object       98.rake                 README.md
```
私のPC上の画面には綺麗に整形されて出力されているのですが、日報で貼り付けたらズレていたので、どこか整形できていないのかもしれないな…と思ったら、コピーの順番が違うようで、縦に並んでいるのに横に並んでいる分からコピーされているようですね。

<a href="https://bootcamp.fjord.jp/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBM29WQkE9PSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--ce5fc6dbd0d4c63d2de119d557abdbf45ca55f2b/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202025-09-30%2022.13.48.png" target="_blank" rel="noopener noreferrer"><img src="https://bootcamp.fjord.jp/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBM29WQkE9PSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--ce5fc6dbd0d4c63d2de119d557abdbf45ca55f2b/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202025-09-30%2022.13.48.png" width="1576" height="113" alt="スクリーンショット 2025-09-30 22.13.48.png"></a>

めちゃくちゃ見にくいですが、順番自体は問題ないかなと思います！

[library open3 \(Ruby 3\.4 リファレンスマニュアル\)](https://docs.ruby-lang.org/ja/latest/library/open3.html)

> プログラムを実行し、そのプロセスの標準入力・標準出力・標準エラー出力にパイプをつなぎます。

Rubyの標準ライブラリだとこれが使えるような気がします 🤔
:::

# 次にやること✅

- [Docs: lsコマンドを作る \| FBC](https://bootcamp.fjord.jp/pages/ls-command#requirements)

# いまの気持ち🫶

プログラムの修正課題が返ってきて無事OKはもらえましたが、色々失敗していたので反省して次に活かしたいなと思います。

あと最近日報のタイトルの付け方について悩みます。「#1 課題名①」とか綺麗に揃っている方が正直好きですし整理整頓されてる感じがしていい感じに見えるなぁと感じますが、振り返るときに何らかのポイントやワードが入っている方が後の自分が探しやすいかなと思いましたので、バラツキは気になりますが、気ままにバラバラのタイトルをつけていこうと思います〜！

# 学習時間

- 2時間30分(合計: 565時間30分)
