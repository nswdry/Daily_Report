# 2025年9月23日(火)

# やったこと📝

- [プラクティス プログラムの修正（リバーシ編）（Reスキル） \| FBC](https://bootcamp.fjord.jp/practices/321)

# わかったこと💡
石が置けると判定されているということは、恐らくひっくり返せると判断されていると考えて`turn`メソッドを確認します。

```ruby
  def turn(board, target_pos, attack_stone_color, direction)
    return false if target_pos.out_of_board?
    return false if target_pos.stone_color(board) == attack_stone_color

    next_pos = target_pos.next_position(direction)
    if (next_pos.stone_color(board) == attack_stone_color) || turn(board, next_pos, attack_stone_color, direction)
      board[target_pos.row][target_pos.col] = attack_stone_color
      true
    else
      false
    end
  end
```
:::details プログラムの修正
- 石を置こうとしている場所が盤上外ならfalseを返して即終了、攻撃側の石が調べているマスの石の色を同じならfalseを返して即終了にします。
- 変数next_posに今見ているマス(target_pos)からdirection方向に1マス進めた位置を代入します。
- next_posの石の色が攻撃側の石の色と同じ場合は真を返し、そうでない場合はtarget_posのその先に攻撃側と同じ色の石があって挟める(＝ひっくり返せるか)を調べ、あった場合はtrueを返します。
- 石を攻撃側の色にひっくり返し、裏返せたらtrue、裏返せないならfalseを返します。
:::
## or, || 演算子
```ruby
if (next_pos.stone_color(board) == attack_stone_color) || turn(board, next_pos, attack_stone_color, direction)
```

> 左辺を評価し、結果が真であった場合にはその値を返します。左辺の評価結果が偽であった場合には右辺を評価しその評価結果を返します。 or は同じ働きをする優先順位の低い演算子です。
引用：https://docs.ruby-lang.org/ja/latest/doc/spec=2foperator.html


# 次にやること✅

- [プラクティス プログラムの修正（リバーシ編）（Reスキル） \| FBC](https://bootcamp.fjord.jp/practices/321)

# いまの気持ち🫶

去年頃から誤入力の多さが気になっていて、タイピングの運指を少し修正してみたのですが、最近明らかに誤入力率が下がってきてタイピング速度が向上したので嬉しいです。

# 学習時間

- 3時間(合計: 551時間45分)
