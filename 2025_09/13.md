# 2025年9月13日(土)

# やったこと📝

- [プラクティス プログラムの修正（リバーシ編）（Reスキル） \| FBC](https://bootcamp.fjord.jp/practices/321)

# わかったこと💡

## プログラムの修正
:::details プログラムの修正
```ruby
      --------
      ---W----
      ---WW---
      -WWWWW--
      ---WWW--
      ---WWW--
      --------
      --------
```
ボードがこの状況の時、ゲームは終了するかのテスト内で変数の中身を確認するために、boardに上記盤面を代入しました。

```ruby
(ruby)  board = [
(ruby)   %w[- - - - - - - -],
(ruby)   %w[- - - W - - - -],
(ruby)   %w[- - - W W - - -],
(ruby)   %w[- W W W W W - -],
(ruby)   %w[- - - W W W - -],
(ruby)   %w[- - - W W W - -],
(ruby)   %w[- - - - - - - -],
(ruby)   %w[- - - - - - - -]
(ruby) ]
[["-", "-", "-", "-", "-", "-", "-", "-"],
 ["-", "-", "-", "W", "-", "-", "-", "-"],
 ["-", "-", "-", "W", "W", "-", "-", "-"],
 ["-", "W", "W", "W", "W", "W", "-", "-"],
 ["-", "-", "-", "W", "W", "W", "-", "-"],
 ["-", "-", "-", "W", "W", "W", "-", "-"],
 ["-", "-", "-", "-", "-", "-", "-", "-"],
 ["-", "-", "-", "-", "-", "-", "-", "-"]]
(ruby) finished?(board)
false
```
するとやっぱり`false`で終了していないことが確認できます。

```ruby
(ruby) !placeable?(board, WHITE_STONE) && !placeable?(board, BLACK_STONE)
false
(ruby) !placeable?(board, WHITE_STONE)
false
(ruby) !placeable?(board, BLACK_STONE)
false
```
`finished?`メソッドの中身で再度確認してみても、上記盤面で白石も黒石も置ける判定になってしまっています。

がここからいっつもどうしたらいいんだろうと悩みますね。
:::
## each_with_index
```ruby
[5, 10, 15].each_with_index do |n, idx|
  p [n, idx]
end
# => [5, 0]
#    [10, 1]
#    [15, 2]
```
要素とインデックスを同時に受け取ることができるイテレータ。

[Enumerable\#each\_with\_index \(Ruby 3\.4 リファレンスマニュアル\)](https://docs.ruby-lang.org/ja/latest/method/Enumerable/i/each_with_index.html)

```ruby
board.each_with_index do |cols, row|
```
二次元配列boardで、colsはボード1行分の配列、rowは行番号(インデックス)を受け取ります。

# 次にやること✅

- [プラクティス プログラムの修正（リバーシ編）（Reスキル） \| FBC](https://bootcamp.fjord.jp/practices/321)

# 学習時間

- 2時間(合計: 529時間)
