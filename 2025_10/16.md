# 2025年10月16日(木)

# やったこと📝

- [プラクティス nginx の基本を理解する（Reスキル） \| FBC](https://bootcamp.fjord.jp/practices/330)
- [プラクティス lsコマンドを作る2（Reスキル） \| FBC](https://bootcamp.fjord.jp/practices/323)

# わかったこと💡
## nginxの基本を理解する

### 要件
- 自分で書いたオリジナルの HTML を置き、アクセスしてブラウザで表示させる。その URL を提出してレビューしてもらう。

:::details nginxの基本を理解する
### nginxの設定ファイル
設定ファイルで記載されているこのコードの意味がわからなかったので、調べました。

```json
location / {
        root   /usr/share/nginx/html;
        index  index.html index.htm;
    }
```
### location / {}
`/`はURLのルートパスを意味し、`{}`内に書かれた指示が適用される。

### root  /usr/share/nginx/html;
- nginxがファイルを探すドキュメントルート(=最初に見るページ)を指定
- /usr/share/nginx/html ディレクトリがルートフォルダとして使われる

例えば、ブラウザで`/index.html`にアクセスした場合、nginxは
```ruby
/usr/share/nginx/html/index.html
```
を探します。

### index index.html index.htm;
- ディレクトリにアクセスしたときのデフォルトのファイルを指定
- `/usr/share/nginx/html/index.html` があれば表示する
- なければ `/usr/share/nginx/html/index.htm` を表示する
- どちらもなかった場合は、403か404エラーを出す

つまり自分で作成したhtmlを`/usr/share/nginx/html`ディレクトリに配置し、ブラウザでアクセスするときにパスを指定すれば表示させることができるということでしょうか…？
:::

## lsコマンドを作る2(ls -a)

### 要件
- -aオプション付きのlsコマンドを作って提出する。

:::details lsコマンドを作る2
### ls -a

隠しファイルを表示するオプション。隠しファイルとは`.zshrc`等のドットから始まるファイルのことで、通常のlsコマンドでは表示されません。`-a`をオプションとして指定した場合に、通常ファイルに加えて隠しファイルも表示します。
大文字の`-A`を指定した場合は、現在のディレクトリ「.」と親ディレクトリ「..」を省いて表示します。今回の要件では親ディレクトリについては出力されていなくてもOK。
[ls コマンド \- とほほのWWW入門](https://www.tohoho-web.com/linux/cmd/ls.html)

### Dir.entries

昨日は書いたコードを動かすことがなく日報を提出してしまったので、今日は昨日書いたコードの動作を確認し、隠しファイルが上手く表示出来たらコードのチェックをして提出しようと思います。

```ruby
def fetch_dir_contents(params)
  if params[:a]
    Dir.entries('.')
  else
    Dir.glob("*")
  end
end
```

実行した結果がこちら…

```ruby
$ 04.ls/ls.rb -a
.                 05.wc             .rubocop.yml     
..                README.md         98.rake          
07.ls_object      02.calendar       .git             
.ruby-version     99.wc_object      01.fizzbuzz      
06.bowling_object .gitignore        04.ls            
.ruby-lsp         03.bowling                         

¢  ls -a
.                 .ruby-lsp         04.ls             99.wc_object
..                .ruby-version     05.wc             README.md
.git              01.fizzbuzz       06.bowling_object
.gitignore        02.calendar       07.ls_object
.rubocop.yml      03.bowling        98.rake
```

わぁお。完全に順番がやられてますね！！！なんでだろう…

とりあえず`Dir.entries('.')`部分で取得するファイルの配列を出力してみたら、この時点で順番が崩れて取得されていました。

```ruby
$ 04.ls/ls.rb -a

[".", "..", "07.ls_object", ".ruby-version", "06.bowling_object", ".ruby-lsp", "05.wc", "README.md", "02.calendar", "99.wc_object", .gitignore", "03.bowling", ".rubocop.yml", "98.rake", ".git", "01.fizzbuzz", "04.ls"]
```
よくわからなかったので、とりあえず`sort`してみました。

```ruby
$ 04.ls/ls.rb -a
.                 .ruby-version     06.bowling_object
..                01.fizzbuzz       07.ls_object     
.git              02.calendar       98.rake          
.gitignore        03.bowling        99.wc_object     
.rubocop.yml      04.ls             README.md        
.ruby-lsp         05.wc     
```
なんとか見た目はいけた気がします！！


[フォルダー名の読み込み順番について](https://teratail.com/questions/105872)
上記でRuby3.0以降で`Dir.glob`はsort済みの配列を返すとあったので、globの方はsortの必要がなく、`Dir.entries`では必要なのかなという結論になりました。
:::

# 次にやること✅

- [プラクティス nginx の基本を理解する（Reスキル） \| FBC](https://bootcamp.fjord.jp/practices/330)
- [プラクティス lsコマンドを作る2（Reスキル） \| FBC](https://bootcamp.fjord.jp/practices/323)

# いまの気持ち🫶

今日はポケモンのゲームが発売されましたね！！数年前までは毎年買って遊んでいたのですが、ちょっと今は忙しいので見送りました😌

眠い時に課題を提出しようとするといっつも眠気でやられて色々間違えてしまうので、今度からは余裕を持って土日とかに作成するようにしようと思います。そんなに急いで提出すべきものでもないので、焦らず丁寧を心掛けていきたいです。

# 学習時間

- 3時間(合計: 589時間30分)
