# 2025年10月15日(水)

# やったこと📝

- [プラクティス nginx の基本を理解する（Reスキル） \| FBC](https://bootcamp.fjord.jp/practices/330)
- [プラクティス lsコマンドを作る2（Reスキル） \| FBC](https://bootcamp.fjord.jp/practices/323)

# わかったこと💡
## nginxの基本を理解する

### 要件
- 自分で書いたオリジナルの HTML を置き、アクセスしてブラウザで表示させる。その URL を提出してレビューしてもらう。

オリジナルのHTMLは書いたので、あとはアクセスしてブラウザに表示させるだけです！

## lsコマンドを作る2(ls -a)

### 要件
- -aオプション付きのlsコマンドを作って提出する。

### ls -a

隠しファイルを表示するオプション。隠しファイルとは`.zshrc`等のドットから始まるファイルのことで、通常のlsコマンドでは表示されません。`-a`をオプションとして指定した場合に、通常ファイルに加えて隠しファイルも表示します。
大文字の`-A`を指定した場合は、現在のディレクトリ「.」と親ディレクトリ「..」を省いて表示します。今回の要件では親ディレクトリについては出力されていなくてもOK。
[ls コマンド \- とほほのWWW入門](https://www.tohoho-web.com/linux/cmd/ls.html)

:::details lsコマンドを作る2
### Dir.entries

```ruby
# 現状のコード
def fetch_dir_contents
  Dir.glob("*")
end
```
これを`Dir.entries`を使えばカレントディレクトリと親ディレクトリに加えて、隠しファイルも表示することが出来ます。

```ruby
Dir.entries('.')
```
あとはコマンドライン引数によって条件分岐をすればいいですね。

[Dir\.entries \(Ruby 3\.4 リファレンスマニュアル\)](https://docs.ruby-lang.org/ja/latest/method/Dir/s/entries.html)


```ruby
require 'io/console'
require 'optparse'
opt = OptionParser.new

params = {}

opt.on('-a') { params[:a] = true }
opt.parse(ARGV)

def main(params)
  files = fetch_dir_contents(params)
  width = IO.console.winsize[1]
  max_length = files.map { |f| f.length }.max
  cols = calc_columns(width, max_length)
  format_entries(files, cols, max_length)
end

def fetch_dir_contents(params)
  if params[:a]
    Dir.entries('.')
  else
    Dir.glob("*")
  end
end

def calc_columns(width, max_length)
  (width / (max_length + 1)).floor.clamp(1, 3)
end

def format_entries(files, cols, max_length)
  row_count = files.size.ceildiv(cols)
  rows = files.each_slice(row_count).map{ |slice| slice.fill("", slice.size...row_count)}.transpose

  rows.each do |row|
    puts row.map{ |f| f.ljust(max_length)}.join(" ")
  end
end

main(params)
```
:::
# 次にやること✅

- [プラクティス nginx の基本を理解する（Reスキル） \| FBC](https://bootcamp.fjord.jp/practices/330)
- [プラクティス lsコマンドを作る2（Reスキル） \| FBC](https://bootcamp.fjord.jp/practices/323)

## 今の気持ち

今日は眠くてあんまり深く思考できなかったので、寝ます！！

# 学習時間

- 1時間(合計: 586時間30分)
