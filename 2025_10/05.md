# 2025年10月5日(日)

# やったこと📝

- [Docs: lsコマンドを作る \| FBC](https://bootcamp.fjord.jp/pages/ls-command#requirements)

# わかったこと💡

## 要件
- オプション以外のコマンドライン引数(パス指定)なしで現在のディレクトリを対象として ls コマンドが実行されること
- 組み込みの ls は表示対象のパスをコマンドライン引数として指定することができますが、今回はパス指定は必須要件ではありません。
- 二つ以上のメソッドを自分で定義すること（メソッドの作り方を学ぶため）
- 横に最大3列を維持して表示する
  - 3,6,9,12のように3の倍数の件数だけでなく、それ以外の件数（3列目に空欄ができるケース）の結果も載せてください
  - ただし、「3列から5列に仕様変更してください」または「3列から100列に変えてください」とあとから言われても必要最小限の変更で対応できるようなロジックにしておくこと
- ファイルの並び順は列優先で列ごとに要素を並べること

:::details lsコマンドを作る1
## 場合分け
```ruby
ターミナルのサイズが(最大ファイル名+2)*2より小さい時
1列表示
ターミナルのサイズが(最大ファイル名+2)*3より小さい時
2列表示
その他
3列表示
```
なんか日本語で先に表示したらコードが考えやすくていいですね！
```ruby
if terminal_width < 2 * (max_length + 2)
  1
elsif  terminal_width < 3 * (max_length + 2)
  2
else
  3
end
```

## io/consoleについて
```ruby
require 'io/console'

rows, width = IO.console.winsize
```
でターミナル幅が求められました！
検索して出てきたgemがあったので、一瞬これ使えないやつかなと思いましたが、`require`だけで利用できたのでセーフで良かったです。
:::

## 実行結果
```ruby
$ ls  ruby 04.ls/ls.rb
01.fizzbuzz      
02.calendar      
03.bowling       
04.ls            
05.wc            
06.bowling_object
07.ls_object     
98.rake          
99.wc_object     
README.md        

 $ ls
01.fizzbuzz
02.calendar
03.bowling
04.ls
05.wc
06.bowling_object
07.ls_object
98.rake
99.wc_object
README.md
```
とりあえずターミナルの幅に合わせて列表示数を変えることはできたのですが、ちょっと`lsコマンド`と列数の計算が微妙に異なっている部分があるのでもうちょっと微調整してから提出したいと思います！

# 次にやること✅

- [Docs: lsコマンドを作る \| FBC](https://bootcamp.fjord.jp/pages/ls-command#requirements)

# いまの気持ち🫶

なんとか形にはなりましたが、ちょっと微妙に挙動が異なるのでまた確認してみます！
明日はちょっと万博に行って帰りが遅くなると思い、勉強する時間が取れないと思いますのでまた明後日調整します！

# 学習時間

- 45分(合計: 572時間15分)
