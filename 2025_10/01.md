# 2025年10月1日(水)

# やったこと📝

- [Docs: lsコマンドを作る \| FBC](https://bootcamp.fjord.jp/pages/ls-command#requirements)
- [Array\#transpose \(Ruby 3\.4 リファレンスマニュアル\)](https://docs.ruby-lang.org/ja/latest/method/Array/i/transpose.html)
- [【Ruby】2重配列から特定の位置にある要素の配列を作る \- プログラミング漫遊記](https://haruguchi-yuma.hatenablog.com/entry/2022/07/20/091311)

# わかったこと💡
## 要件
- オプション以外のコマンドライン引数(パス指定)なしで現在のディレクトリを対象として ls コマンドが実行されること
- 組み込みの ls は表示対象のパスをコマンドライン引数として指定することができますが、今回はパス指定は必須要件ではありません。
- 二つ以上のメソッドを自分で定義すること（メソッドの作り方を学ぶため）
- 横に最大3列を維持して表示する  
- 3,6,9,12のように3の倍数の件数だけでなく、それ以外の件数（3列目に空欄ができるケース）の結果も載せてください  
- ただし、「3列から5列に仕様変更してください」または「3列から100列に変えてください」とあとから言われても必要最小限の変更で対応できるようなロジックにしておくこと
- ファイルの並び順は列優先で列ごとに要素を並べること

## やること(オプションなしのlsコマンド)
- カレントディレクトリの内容を表示する
- 隠しファイルは表示しない
- 横は最大3列になるようにする  
- 行数 = (ファイル数 / 3)(切り上げ)
- 順番は縦に列で並ぶようにする- 可読性向上の為`main`メソッドを導入する(後半)

昨日、`open3`を利用してみようかと思いましたが、`コマンド | Column`を実行するということは結局LinuxのColumnコマンドを利用していることになるため、Rubyの標準ライブラリのみで実行するという要件から外れてしまうため、別の方法を使うことにしました。

## 数値の切り上げ
```ruby
数値.ceil
```
 列数を最大3とした場合、ファイル数を3で割って切り上げた数値が行数になります。

:::details lsコマンドを作る1
## 現状
```ruby
# 実行する
def main  
end

# ディレクトリの中身を取得する
def fetch_items  
  Dir.glob("*")
end

# 要件を満たすように列を並び替える
def format_columns
end

# 整形して表示する
def display_files
end

main
```
構造としてはこんな感じになるのでしょうか？
:::
# 次にやること✅

- [Docs: lsコマンドを作る \| FBC](https://bootcamp.fjord.jp/pages/ls-command#requirements)

# いまの気持ち🫶

まずは順番通りの配列を作成してから行と列を入れ替える処理を`Array#transpose`を使ってしようと思っていたのですが、`map`でも出来るらしく、調べれば調べるほど本当にいろんな実装方法があるんだなぁと知りました。

# 学習時間

- 1時間30分(合計: 567時間)
